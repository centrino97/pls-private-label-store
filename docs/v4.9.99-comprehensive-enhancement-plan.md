# v4.9.99 Comprehensive Enhancement Plan

**Date:** January 27, 2026  
**Version:** 4.9.99  
**Status:** Planning  
**Priority:** High

---

## üéØ Goals

1. **CRO-Optimized Product Pages** - Long pages with multiple CTAs, configurator throughout
2. **Tier-Based Unlocking System** - Ingredients and fragrances unlock at higher tiers
3. **Enhanced Sample Data** - Fewer products, full complexity, all bundle possibilities
4. **Optimized Data Processing** - Faster reimporting for testing
5. **Landing Page Foundation** - Category pages and custom landing pages for keywords

---

## üìã Feature Breakdown

### 1. CRO-Optimized Product Pages

**Current State:**
- Configurator only in modal
- Short product pages
- Single CTA

**Needed:**
- Configurator embedded throughout page (multiple instances)
- Long-form content with multiple CTAs
- Social proof sections
- Trust signals
- Benefits repeated at different scroll points
- Multiple "Configure & Order" buttons

**Implementation:**
- Create `render_configurator_inline()` method
- Add configurator shortcode/widget support
- Add multiple CTA sections throughout page
- Add scroll-triggered CTAs
- Add social proof sections

### 2. Tier-Based Unlocking System

**Current State:**
- Ingredients assigned to products
- No tier-based unlocking

**Needed:**
- Ingredients unlock at Tier 3+ (configurable)
- Fragrances unlock at Tier 3+ (configurable)
- Visual indication of locked/unlocked options
- Progressive disclosure based on tier selection

**Implementation:**
- Add `min_tier_level` to ingredient taxonomy meta
- Add `min_tier_level` to fragrance/attribute values
- Update configurator to filter options based on selected tier
- Add visual "Unlock at Tier X" indicators
- Update sample data to include tier-based ingredients/fragrances

### 3. Enhanced Sample Data

**Current State:**
- Many products, basic variants
- May not cover all bundle possibilities

**Needed:**
- Fewer products (3-5) but full complexity
- All ingredient variants
- All fragrance variants
- All bundle combinations possible
- Realistic product descriptions (long-form)
- Multiple images per product
- Complete product profiles

**Implementation:**
- Reduce product count
- Increase variant complexity
- Add tier-based ingredients
- Add tier-based fragrances
- Ensure all bundle rules can be tested
- Add realistic long-form descriptions
- Add multiple gallery images

### 4. Optimized Data Processing

**Current State:**
- May be slow for reimporting

**Needed:**
- Fast reimporting for testing
- Batch processing
- Transaction-based imports
- Skip unchanged data
- Progress indicators

**Implementation:**
- Use database transactions
- Batch insert/update operations
- Check for existing data before insert
- Add progress callbacks
- Optimize queries

### 5. Landing Page Foundation

**Current State:**
- Basic category pages
- No custom landing pages

**Needed:**
- Enhanced category pages
- Custom landing page system
- Keyword-based landing pages
- SEO optimization
- Dynamic content based on keywords

**Implementation:**
- Create landing page post type
- Add keyword mapping
- Create landing page templates
- Add SEO fields
- Integrate with PLS products

---

## üîß Detailed Implementation Plan

### Phase 1: Tier-Based Unlocking System

#### 1.1 Database Schema Updates
- Add `min_tier_level` meta to `pls_ingredient` taxonomy
- Add `min_tier_level` to attribute values (fragrances)
- Default: Tier 3 for ingredients, Tier 3 for fragrances

#### 1.2 Admin UI Updates
- Add tier selector in ingredient management
- Add tier selector in attribute value management
- Show tier requirements in product options

#### 1.3 Frontend Updates
- Filter options based on selected tier
- Show "Unlock at Tier X" indicators
- Disable locked options
- Update configurator logic

#### 1.4 Sample Data Updates
- Assign tier levels to ingredients
- Assign tier levels to fragrances
- Create tier-based product configurations

### Phase 2: CRO-Optimized Product Pages

#### 2.1 Inline Configurator
- Create `render_configurator_inline()` method
- Support multiple instances per page
- Add shortcode support
- Add widget support

#### 2.2 Multiple CTAs
- Add CTA sections throughout page
- Scroll-triggered CTAs
- Sticky CTA bar
- Multiple "Configure & Order" buttons

#### 2.3 Long-Form Content
- Enhanced product descriptions
- Benefits sections (multiple)
- Social proof sections
- Trust signals
- FAQ sections

#### 2.4 Sample Data Content
- Long-form descriptions
- Multiple benefit sections
- Social proof content
- FAQ content

### Phase 3: Enhanced Sample Data

#### 3.1 Product Reduction
- Reduce to 3-5 products
- Increase variant complexity
- Full ingredient/fragrance combinations

#### 3.2 Bundle Coverage
- Ensure all bundle rules can be tested
- Create sample bundles for all scenarios
- Test bundle eligibility logic

#### 3.3 Content Enhancement
- Long-form descriptions
- Multiple images
- Complete product profiles
- Realistic data

### Phase 4: Optimized Data Processing

#### 4.1 Batch Processing
- Use transactions
- Batch inserts/updates
- Progress callbacks

#### 4.2 Performance Optimization
- Skip unchanged data
- Optimize queries
- Cache where appropriate

#### 4.3 Testing Tools
- Fast reimport option
- Reset data option
- Progress indicators

### Phase 5: Landing Page Foundation

#### 5.1 Landing Page Post Type
- Create custom post type
- Add PLS integration
- Add keyword mapping

#### 5.2 Templates
- Category page templates
- Landing page templates
- Dynamic content support

#### 5.3 SEO Integration
- SEO fields
- Meta tags
- Schema markup

---

## üìä Sample Data Structure

### Products (3-5)
1. **Moisturizer** (Full complexity)
   - All ingredient variants
   - All fragrance variants
   - All pack tiers
   - Tier-based unlocking

2. **Cleanser** (Full complexity)
   - All ingredient variants
   - All fragrance variants
   - All pack tiers
   - Tier-based unlocking

3. **Serum** (Full complexity)
   - All ingredient variants
   - All fragrance variants
   - All pack tiers
   - Tier-based unlocking

4. **Toner** (Optional)
5. **Mask** (Optional)

### Ingredients
- **Tier 1-2:** Basic ingredients (always available)
- **Tier 3+:** Premium ingredients (unlock at Tier 3)
- **Tier 4+:** Luxury ingredients (unlock at Tier 4)
- **Tier 5:** Exclusive ingredients (unlock at Tier 5)

### Fragrances
- **Tier 1-2:** Standard fragrances
- **Tier 3+:** Premium fragrances
- **Tier 4+:** Luxury fragrances
- **Tier 5:** Exclusive fragrances

### Bundles
- Ensure all bundle rules can be tested
- Create bundles for different scenarios
- Test eligibility logic

---

## ‚úÖ Success Criteria

1. **Tier-Based Unlocking:**
   - Ingredients unlock at correct tiers
   - Fragrances unlock at correct tiers
   - Visual indicators work
   - Options filter correctly

2. **CRO Optimization:**
   - Multiple CTAs throughout page
   - Configurator available inline
   - Long-form content
   - Social proof sections

3. **Sample Data:**
   - Fewer products, full complexity
   - All bundle possibilities
   - Fast reimporting
   - Realistic content

4. **Landing Pages:**
   - Category pages enhanced
   - Custom landing page system
   - Keyword mapping
   - SEO optimized

---

## üìù Files to Modify

1. **Database Schema:**
   - `includes/core/class-pls-activator.php` - Add meta support

2. **Admin:**
   - `includes/admin/screens/ingredients.php` - Add tier selector
   - `includes/admin/screens/attributes.php` - Add tier selector

3. **Frontend:**
   - `includes/frontend/class-pls-frontend-display.php` - Inline configurator, tier filtering
   - `includes/frontend/class-pls-shortcodes.php` - Configurator shortcode
   - `assets/js/offers.js` - Tier-based filtering

4. **Sample Data:**
   - `includes/core/class-pls-sample-data.php` - Enhanced generation

5. **New Files:**
   - `includes/frontend/class-pls-landing-pages.php` - Landing page system
   - `includes/admin/screens/landing-pages.php` - Landing page admin

---

## ‚è±Ô∏è Estimated Effort

- Tier-based unlocking: 4-6 hours
- CRO optimization: 6-8 hours
- Enhanced sample data: 4-6 hours
- Optimized processing: 2-3 hours
- Landing page foundation: 6-8 hours
- **Total: 22-31 hours**

---

**Status:** Ready for implementation
