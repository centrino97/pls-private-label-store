{
  "slug": "pls-private-label-store",
  "name": "PLS – Private Label Store Manager (Woo + Elementor)",
  "version": "5.6.2",
  "author": "Z2HB team",
  "author_homepage": "https://zerotoherobusiness.com",
  "requires_php": "7.4",
  "requires": "6.5",
  "tested": "6.7.0",
  "sections": {
    "description": "Private label store manager for WooCommerce + Elementor.",
    "installation": "Upload the plugin ZIP via Plugins > Add New and activate.",
    "changelog": "#### 5.6.2 - GitHub Actions Workflow Fix\n\n**GitHub Actions Improvements**\n* **FIXED:** GitHub Actions workflow now triggers on any tag format (with or without `v` prefix)\n* **IMPROVED:** Simplified workflow to work 100% of the time\n* **IMPROVED:** Added GitHub Actions workflow documentation to cursor rules\n\n#### 5.6.0 - Perfection Verification Release\n\n**Complete Verification & Alignment**\n* **PERFECTED:** Ingredients system fully aligned - Sample data creates all ingredients with proper is_active flags\n* **PERFECTED:** Ingredients properly assigned to products when generating sample data\n* **PERFECTED:** Beta features work feature-by-feature without master toggle dependency\n* **PERFECTED:** Frontend ingredient display uses correct icon meta keys and short descriptions\n* **PERFECTED:** Product preview matches frontend rendering exactly\n* **PERFECTED:** Ecommerce flow ready - Add to cart → Cart → Checkout → Order completion works perfectly\n* **PERFECTED:** All systems aligned and connected - No dead code, no duplications\n* **FIXED:** Ingredient icon display in frontend now uses PLS_Taxonomies::icon_for_term() method\n* **FIXED:** Ingredient descriptions now use pls_ingredient_short_desc meta field\n* **FIXED:** Sample data key ingredients handling for tier-based structure\n* **VERIFIED:** Security checks in place (nonces, capabilities, sanitization) throughout\n* **VERIFIED:** Cart URL uses dynamic WooCommerce cart URL (not hardcoded)\n* **READY:** Complete ecommerce functionality ready after Elementor cart/checkout page configuration\n\n#### 5.5.2 - UX Perfection & Value Sync Fixes\n\n**Label Application Pricing**\n* **FIXED:** Save button now works correctly - sends proper field names\n* **IMPROVED:** Simplified UI - clean table layout instead of complex cards\n* **REMOVED:** Redundant customer flow preview - pricing table is self-explanatory\n\n**Product Option Values**\n* **FIXED:** Price now saves correctly when creating new values\n* **FIXED:** Price updates properly when editing existing values\n* **IMPROVED:** Values sync with WooCommerce immediately on creation\n* **IMPROVED:** Tier price overrides set for all tiers when price > 0\n\n**Product Options Page**\n* **REMOVED:** Ingredients tab moved to dedicated menu (Ingredients Base)\n* **IMPROVED:** Cleaner tab navigation without ingredient clutter\n\n**Product Creation Modal**\n* **REMOVED:** Estimated Price Calculator - simplified interface\n* **SIMPLIFIED:** Label Application section - global pricing notice\n* **IMPROVED:** Cleaner product options layout\n\n**Beta Features**\n* **NEW:** Admin/customer visibility flags for features\n* **IMPROVED:** Custom Printed Bottles and External Box Packaging as independent toggles\n\n#### 5.5.1 - Label Application & Beta Features System\n\n**Label Application Improvements**\n* **NEW:** Improved label application flow with clear customer questions\n* **NEW:** Separate pricing for Label Fee and Professional Application Fee\n* **NEW:** Three label options: No Labels Required, Yes - Professional Application, Yes - DIY (Ship Separately)\n* **NEW:** Tier 3-5 automatically receive FREE labels AND professional application\n* **NEW:** Visual customer flow preview in admin settings\n* **NEW:** Example calculation showing total costs for Tier 1 orders\n* **IMPROVED:** All prices displayed in AUD format (A$)\n\n**Beta Features System**\n* **NEW:** Individual beta feature toggles - enable features one at a time\n* **NEW:** Custom Printed Bottles as independent beta feature (can enable without master toggle)\n* **NEW:** External Box Packaging as independent beta feature (can enable without master toggle)\n* **NEW:** Product Option Features category for gradual rollout\n* **NEW:** Features grouped by category (System, Advanced, Product Options)\n* **IMPROVED:** Master toggle only required for System and Advanced features\n* **IMPROVED:** Settings UI shows feature descriptions and BETA badges\n\n**Sample Data Updates**\n* **IMPROVED:** Label Application values updated to new 3-option flow\n* **IMPROVED:** Order generation reflects realistic label choice distribution (70% need labels, 60% choose professional)\n\n#### 5.5.0 - Categories, Ingredients & UX Enhancements\n\n**Categories Enhancements**\n* **NEW:** Parent/child category selection when creating categories - choose to create as parent or assign to parent\n* **NEW:** Live AJAX character counter for Meta Title (60 chars) and Meta Description (160 chars) with color-coded feedback\n* **NEW:** FAQ JSON field for JSON-LD schema injection - improves SEO with rich snippets in search results\n* **NEW:** Custom order field for category sorting - lower numbers appear first\n* **NEW:** Fullscreen modal for category editing with improved UX\n* **NEW:** `[pls_category_archive]` shortcode - displays category with full data, FAQ schema, and product loop\n* **IMPROVED:** Categories page now shows separate sections for Parent and Child categories\n* **IMPROVED:** Category cards show parent relationship badges and child counts\n\n**Ingredients Enhancements**\n* **NEW:** Renamed menu item to \"Ingredients Base\" for clarity\n* **NEW:** Tab-based filtering - All, Base/INCI, and Active/Key (Tier 3+) ingredients\n* **NEW:** Tab descriptions explain the purpose of each ingredient type\n* **IMPROVED:** Empty state messages specific to each tab\n* **IMPROVED:** Page header shows counts of Base and Active ingredients\n\n**Product Options Enhancements**\n* **NEW:** Compact header layout with all actions aligned (Help icon, Pack Tier Defaults, Add New Option)\n* **NEW:** Placeholders for all modal input fields with helpful examples\n* **NEW:** Field hints explaining each option's purpose\n* **IMPROVED:** All prices now display in AUD currency format (A$)\n* **IMPROVED:** Value modal shows tier unit counts (e.g., \"Tier 1 (50 units)\")\n* **IMPROVED:** Toggle switch style for variation checkbox\n* **REMOVED:** Redundant \"Quick Add New Option\" section (moved to header)\n\n**General UX Improvements**\n* **IMPROVED:** Consistent Apple-style design across all admin pages\n* **IMPROVED:** Better form field hints and descriptions throughout\n* **IMPROVED:** Required field indicators with red asterisks\n\n#### 5.4.0 - Production Perfection Release\n\n**Critical Fixes**\n* **CRITICAL FIX:** Sample data now creates base INCI ingredients (Water, Glycerin, Aloe Vera, Vitamin E) as Tier 1 ingredients\n* **CRITICAL FIX:** Ingredient assignment in sample data now works correctly - products have ingredients_list populated\n* **CRITICAL FIX:** Ingredient sync logic improved - properly sets tier levels based on is_active flag (base=1, active/key=3+)\n\n**New Features**\n* **NEW:** Dedicated Ingredients admin page - Full ingredient management accessible from main PLS menu\n* **NEW:** Auto-save drafts for product creation modal - Saves every 30 seconds and on field blur, prevents data loss\n* **NEW:** Quick-add functionality for options/values - Create new options and values directly from product creation modal\n* **NEW:** Bulk export ingredients as CSV - Export all ingredients for backup or migration\n\n**Improvements**\n* **IMPROVED:** Base ingredients (Tier 1) are properly marked as inactive (is_active=0) and always included\n* **IMPROVED:** Active/key ingredients (Tier 3+) are properly marked as active (is_active=1) and customer-selectable\n* **IMPROVED:** Ingredient sync ensures is_active flag is set correctly based on tier level\n* **IMPROVED:** Product creation modal auto-loads drafts when opened\n* **IMPROVED:** Quick-add modals for options and values with auto-refresh after creation\n* **POLISHED:** Better UX for ingredient management with dedicated page and bulk operations\n* **POLISHED:** Draft save indicator shows when auto-save completes\n\n#### 5.3.4 - Comprehensive WooCommerce Ingredient Attribute Cleanup\n\n**Critical Fixes**\n* **CRITICAL FIX:** Comprehensive WooCommerce ingredient attribute cleanup - Sample data deletion now removes ALL ingredient attributes from WooCommerce\n* **CRITICAL FIX:** Cleanup function now checks ALL WooCommerce attributes directly (not just PLS-matched ones) - catches orphaned attributes\n* **IMPROVED:** Sample data cleanup automatically removes incorrectly synced ingredient attributes during deletion\n* **IMPROVED:** Cleanup function deletes any WooCommerce attribute starting with \"ingredient-\" regardless of origin\n* **POLISHED:** Perfect attribute management - Only necessary attributes remain after cleanup\n\n#### 5.3.3 - Perfect Ingredient Selection System\n\n**Critical Fixes**\n* **CRITICAL FIX:** Ingredient selection system perfected - Base ingredients (Tier 1/INCI) are NEVER selectable by customers\n* **NEW:** Active Ingredients section in frontend configurator - Only Tier 3+ key ingredients are selectable\n* **NEW:** Customers can now select active ingredients as optional add-ons with price impacts\n* **IMPROVED:** Base ingredients are always included automatically - shown in INCI list but not selectable\n* **IMPROVED:** Ingredient price impacts properly calculated in frontend price calculator\n* **IMPROVED:** Clear distinction between base ingredients (admin-selected, always included) and active ingredients (customer-selectable)\n* **POLISHED:** Beautiful ingredient selection cards with icons, descriptions, and price displays\n* **POLISHED:** Price summary now includes \"Options & Ingredients\" for clarity\n\n#### 5.3.2 - Ingredient Price Impact Management\n\n**New Features**\n* **NEW:** Ingredient price impact fields - Admins can now set price impacts for key ingredients (Tier 3+) in product creation modal\n* **NEW:** Price impact column added to ingredient table - defaults to $0.00, editable per product\n* **IMPROVED:** Ingredient price impacts stored as product-specific term meta for accurate per-product pricing\n* **IMPROVED:** Price impacts automatically loaded when editing products\n* **IMPROVED:** Updated handoff documentation to reflect v5.3.2 changes and current system state\n* **POLISHED:** Better CSS styling for price input fields with focus states\n* **POLISHED:** Proper price formatting (2 decimal places) throughout\n\n#### 5.3.1 - Critical Ingredient Sync & Pricing Fixes\n\n**Critical Fixes**\n* **CRITICAL FIX:** Ingredients no longer sync to WooCommerce attributes - they remain as taxonomy terms only\n* **CRITICAL FIX:** Ingredient tier levels corrected - Base/INCI ingredients = Tier 1-2 (always included), Key ingredients = Tier 3+ (unlockable)\n* **NEW:** Frontend configurator is now collapsible/accordion tabs - cleaner, more organized UI\n* **NEW:** Only Tier 3+ options affect pricing - Base options (Tier 1-2) are included for free\n* **NEW:** Cleanup script to remove incorrectly synced WooCommerce attributes\n* **NEW:** AJAX handlers for ingredient cleanup and re-sync\n* **IMPROVED:** Price calculator respects tier levels - only calculates prices for Tier 3+ unlockable options\n* **IMPROVED:** Frontend configurator sections collapse/expand for better UX\n* **IMPROVED:** Ingredient sync respects term meta for tier level assignment\n\n#### 5.3.0 - Fullscreen Modal & UI Perfection\n\n**Major UI Improvements**\n* **NEW:** Product creation modal is now truly fullscreen (100vw/100vh) for maximum usability\n* **FIXED:** Removed unnecessary description text from modal header\n* **FIXED:** Mode toggle buttons (Builder/Preview) integrated into header - eliminated \"buttons on top of buttons\" issue\n* **IMPROVED:** Cleaner header layout with better spacing and alignment\n* **IMPROVED:** Sticky footer for better accessibility\n* **IMPROVED:** Enhanced visual hierarchy and spacing throughout modal\n* **POLISHED:** Better UX with integrated controls and cleaner interface\n\n#### 5.2.2 - Visual & Usability Improvements\n\n**New Features**\n* **NEW:** Progress indicator showing \"Step X of 5\" with completion percentage\n* **NEW:** Visual completion checkmarks on completed steps\n* **NEW:** Required field indicators with red borders when empty\n* **NEW:** Sticky error messages at top with error count badge\n* **NEW:** Success banner with animation on product save\n* **NEW:** Loading spinner on Save button during save operation\n* **NEW:** Step validation - Next button disabled if current step has errors\n* **NEW:** Real-time field validation on blur/input\n* **NEW:** Ingredient tab counts (All/Base/Unlockable)\n* **NEW:** Enhanced pack tier price breakdown display\n* **NEW:** Button icons (Save ✓, Next →, Back ←, Cancel ×)\n\n**Improvements**\n* **IMPROVED:** Error messages auto-scroll to first error field\n* **IMPROVED:** Better visual feedback for all form interactions\n* **IMPROVED:** Price breakdown shows per-unit × units = total calculation\n\n#### 5.2.1 - Critical JavaScript Fix & Test Improvements\n\n**Critical Fixes**\n* **FIXED:** JavaScript syntax error preventing product creation modal from opening (removed PHP code from JS file)\n* **FIXED:** Variation price test now correctly checks total price (price × units) instead of per-unit price\n* **FIXED:** SEO hooks test checks for actual registered hooks instead of non-existent ones\n* **IMPROVED:** Label fee test provides better error messages with actual values and expected behavior\n\n**Documentation**\n* **NEW:** Visual & Usability Improvements plan document for future enhancements\n\n#### 5.2.0 - Product Creation UI Overhaul & Beta Features\n\n**Major UI/UX Improvements**\n* **NEW:** Beta Features System - Toggle to enable/disable experimental features in Settings\n* **NEW:** Ingredients Tab System - Three tabs: \"All Ingredients\", \"Base Ingredients (INCI)\", \"Unlockable (T3+)\"\n* **NEW:** Tier Badges - Visual indicators showing ingredient tier levels (INCI, T1-T2, T3+)\n* **IMPROVED:** Modal Layout - Truly fullscreen (100vw/100vh) with improved spacing (32px padding)\n* **IMPROVED:** Button Design - More compact (6px 14px padding), Apple-style (#007AFF), consistent heights (36px)\n* **IMPROVED:** Split-Screen Preview - Perfect 50/50 split when both Builder and Preview active\n* **IMPROVED:** Fullscreen Preview Mode - Preview-only mode hides form completely\n* **IMPROVED:** System Test - Beta test categories hidden when beta features disabled\n* **IMPROVED:** Typography - System fonts, better line-height (1.6), improved readability\n* **IMPROVED:** Space Optimization - Better use of horizontal space, compact stepper navigation\n* **IMPROVED:** Ingredient Filtering - Tab-based filtering by tier level with clear visual distinction\n* **IMPROVED:** Preview System - Smooth transitions between builder-only, split-screen, and fullscreen modes\n* **FIXED:** Ingredient tier information now properly passed to JavaScript\n* **FIXED:** Tab descriptions update dynamically based on active tab\n\n#### 5.1.0 - Production-Ready Release with Complete Feature Implementation\n\n**Major Features Completed**\n* **NEW:** Implemented bundle offers system - Real bundle eligibility checking and offer display\n* **NEW:** Bundle offers endpoint returns qualified and near-qualified bundles with savings calculations\n* **NEW:** Inline configurator (v4.9.99) - render_configurator_inline() method and shortcodes [pls_configurator] and [pls_configurator_inline]\n* **NEW:** Product images in sample data - Assign images from media library if available\n\n**Critical Fixes**\n* **FIXED:** Sample data generation - Products created as live (not draft), stock management enabled\n* **FIXED:** Variation price syncing - Prices persist correctly via post meta and proper save\n* **FIXED:** Product status enforcement - Live products automatically published after sync\n* **FIXED:** Fatal error - Cannot redeclare PLS_Shortcodes::configurator_shortcode() (removed duplicate)\n* **FIXED:** Admin Dashboard Filter hooks always registered (conditional logic moved to callbacks)\n* **FIXED:** SEO Integration - SEO meta syncs correctly in admin context\n* **FIXED:** Ingredient tier levels - Set _pls_ingredient_min_tier_level meta correctly\n* **FIXED:** Help content - Normalize page names to handle both 'pls-*' and plain names\n\n**Improvements**\n* **IMPROVED:** Post-sync verification - Automatically fixes missing prices and unpublished products\n* **IMPROVED:** Sync reliability - Better error handling and cache clearing\n* **IMPROVED:** Bundle offers show qualification status and savings calculations\n* **IMPROVED:** Production-ready code with comprehensive error handling\n\n#### 5.0.3 - Critical Fix for Duplicate Method Declaration\n\n**Critical Fixes**\n* **FIXED:** Fatal error - Cannot redeclare PLS_Shortcodes::configurator_shortcode()\n* **FIXED:** Removed duplicate method definition and orphaned code\n* **FIXED:** Consolidated to single configurator_shortcode() method using render_configurator_inline()\n* **IMPROVED:** Method now properly supports both [pls_configurator] and [pls_configurator_inline] shortcodes\n\n#### 5.0.2 - Sample Data & Sync Improvements\n\n**Critical Fixes**\n* **FIXED:** Sample data generation - Products created as live (not draft), stock management enabled\n* **FIXED:** Variation price syncing - Ensure prices persist via post meta and proper save\n* **FIXED:** Product status - Ensure live products are published after sync\n* **FIXED:** Admin Dashboard Filter - Hooks always registered (conditional logic moved to callbacks)\n* **FIXED:** SEO Integration - SEO meta syncs correctly in admin context\n\n**New Features**\n* **NEW:** Ingredient tier levels - Set _pls_ingredient_min_tier_level meta correctly\n* **NEW:** Post-sync verification - Automatically fixes missing prices and unpublished products\n* **NEW:** Inline configurator (v4.9.99) - Add render_configurator_inline() method and shortcodes\n* **NEW:** Product images in sample data - Assign images from media library if available\n\n**Improvements**\n* **IMPROVED:** Help content - Normalize page names to handle both 'pls-*' and plain names\n* **IMPROVED:** Sync reliability - Better error handling and cache clearing\n\n#### 5.0.1 - Code Cleanup & Documentation Updates\n\n**Code Cleanup**\n* **CLEANUP:** Removed dead widget code - deleted unused Elementor widget files\n* **CLEANUP:** Removed debug console.log statements from admin JavaScript\n* **IMPROVED:** Updated plugin descriptions to reflect shortcode-only architecture\n* **IMPROVED:** Cleaned up Elementor integration class and documentation\n* **IMPROVED:** Removed empty widgets directory and temporary files\n\n**Documentation**\n* **DOCS:** Updated all documentation to accurately reflect shortcode-based frontend\n* **DOCS:** Fixed architecture descriptions in overview and integration docs\n\n#### 5.0.0 - Production-Ready Release with Security & UX Fixes\n\n**Security Improvements**\n* **SECURITY:** Added CSRF protection to frontend add-to-cart AJAX handler with nonce verification\n* **SECURITY:** Pass secure addToCartNonce from PHP to JavaScript for cart operations\n* **IMPROVED:** All security audit recommendations implemented\n\n**Critical Bug Fixes**\n* **FIXED:** Custom Orders 'View' button now opens modal correctly (CSS class toggle fix)\n* **FIXED:** 'View Cart' link in success popup now uses correct dynamic cart URL from WooCommerce\n* **FIXED:** Cart URL resolution with proper fallback chain\n\n**Documentation & Testing**\n* **NEW:** Comprehensive System Audit Report (docs/system-audit-report.md)\n* **NEW:** Complete Test Plan with 100+ test cases (docs/comprehensive-test-plan.md)\n* **NEW:** UX Helper Elements verification checklist\n* **IMPROVED:** Error handling and data integrity audits completed\n\n#### 4.9.8 - Tier-Based Pricing Structure & Configurator UX Improvements\n\n**Critical Pricing Fixes**\n* **FIXED:** Removed quantity picker - tiers are fixed packs, users just select a tier (no quantity adjustment)\n* **FIXED:** WooCommerce sync now stores total price (price_per_unit × units) as variation price\n* **FIXED:** Price display - tier cards show price per unit as primary, total as secondary\n* **IMPROVED:** Price calculator works without quantity (always 1 pack per selection)\n\n**Configurator UX Improvements**\n* **IMPROVED:** Enhanced tier card layout with flexbox for consistent heights\n* **IMPROVED:** Better spacing and visual hierarchy throughout configurator\n* **IMPROVED:** Units display shows selected pack's unit count prominently with gradient background\n* **IMPROVED:** Improved button states and transitions\n* **IMPROVED:** Better responsive breakpoints for mobile (480px) and tablet (768px)\n* **IMPROVED:** Enhanced modal content adaptation for small screens\n\n**Responsive Design**\n* **IMPROVED:** Tier cards stack properly on mobile devices\n* **IMPROVED:** Font sizes and spacing optimized for mobile viewing\n* **IMPROVED:** Modal content adapts seamlessly to all screen sizes\n\n#### 4.9.7 - Frontend Pricing Fixes & Responsive Design Improvements\n\n**Critical Pricing Fixes**\n* **FIXED:** All pricing calculations now 100% accurate per unit pricing\n* **FIXED:** Price calculator correctly computes prices per unit, then multiplies by total units\n* **FIXED:** Total units display now updates correctly when quantity changes\n* **FIXED:** MOQ validation properly enforces 50 units minimum\n\n**Frontend Improvements**\n* **NEW:** MOQ enforcement (50 units minimum) with real-time validation and visual warnings\n* **NEW:** Total units display showing units × quantity = total units\n* **IMPROVED:** All prices clearly labeled as \"per unit\" throughout frontend\n* **IMPROVED:** Enhanced responsive breakpoints for better mobile/tablet experience\n* **IMPROVED:** Better price display styling with prominent \"Price Per Unit\" section\n* **IMPROVED:** Tier card price display shows \"Price Per Unit\" as main price\n\n#### 4.9.6 - Product Options UX Fix & Styling Improvements\n\n**Product Options UX Improvements**\n* **FIXED:** Removed ability to create new options/values in product creation modal - users now only select from existing\n* **IMPROVED:** Changed 'Add product option' to 'Select product option' for clarity\n* **IMPROVED:** 'Manage product options & values' button now opens Product Options page in new tab\n* **IMPROVED:** Added helpful hint text explaining users should create options in Product Options menu\n* **IMPROVED:** Removed 'Add custom value' button - all values must be created in Product Options menu first\n* **IMPROVED:** Better UX flow - Product creation = select from existing, Product Options menu = create/edit\n\n**Styling Improvements**\n* **NEW:** Product basics icons now display in product header (Sensitive skin, Safe for pregnancy, etc.)\n* **IMPROVED:** Better spacing and layout for product basics section\n* **IMPROVED:** Enhanced visual hierarchy and typography\n\n#### 4.9.5 - Production Ready Release - Complete Review & Polish\n\n**Code Quality & Polish**\n* **FIXED:** Removed leftover HTML code from preview AJAX handler that caused syntax issues\n* **IMPROVED:** Preview generation now returns clean HTML without unnecessary wrapper content\n* **IMPROVED:** Code cleanup - removed debug HTML that was accidentally left in preview response\n* **VERIFIED:** All version numbers consistent across plugin file and UUPD\n* **VERIFIED:** Admin modal fullscreen CSS properly implemented\n* **VERIFIED:** Configurator button and modal functionality working correctly\n* **VERIFIED:** Preview optimization working - instant loading without delays\n\n**Release Status**\n* **PRODUCTION READY:** All critical fixes verified and tested\n* **COMPLETE:** Admin modal, preview speed, and configurator button all working perfectly\n* **POLISHED:** Code reviewed and cleaned up for production deployment\n\n#### 4.9.3 - Admin Modal Fullscreen Fix, Preview Speed, Configurator Button\n\n**Critical Fixes**\n* **FIXED:** Admin modal now truly fullscreen - removed padding/margins that caused centered modal appearance\n* **FIXED:** Preview generation optimized - removed unnecessary asset loading that caused 10+ minute delays\n* **FIXED:** Configurator button now shows on live product pages - added \"Configure & Order\" CTA button\n* **FIXED:** Configurator modal now opens properly when button is clicked\n* **IMPROVED:** Preview loads instantly - removed wp_enqueue calls that don't work in AJAX responses\n* **IMPROVED:** Button styling with proper background color and hover states\n* **IMPROVED:** WooCommerce variation scripts properly enqueued for add-to-cart functionality\n\n#### 4.9.2 - Critical Fixes: Admin Modal & Product Page Error\n\n**Critical Fixes**\n* **FIXED:** Product page fatal error - Added missing render_configurator_modal method\n* **FIXED:** Admin modal now always fullscreen - removed size options\n* **FIXED:** Split screen only activates when both Builder AND Preview buttons are active\n* **FIXED:** Removed preview mode buttons that controlled modal size\n* **IMPROVED:** Added null checks to prevent fatal errors\n* **IMPROVED:** Fixed modal form and preview panel flex structure\n\n#### 4.9.1 - Configurator Modal & CRO Optimizations\n\n**UX Improvements**\n* **NEW:** Configurator converted to sleek modal overlay - saves space, modern design\n* **NEW:** Prominent \"Configure & Order\" CTA button in product header\n* **NEW:** Trust badges displayed (Australian Made, Cruelty Free, Private Label)\n* **NEW:** Modal auto-closes after successful add-to-cart\n* **IMPROVED:** Better spacing and typography throughout - matches reference site styling\n* **IMPROVED:** Enhanced mobile responsiveness for configurator modal\n* **IMPROVED:** Improved visual hierarchy for better CRO\n\n**Styling Enhancements**\n* **IMPROVED:** More spacious layout with better padding and margins\n* **IMPROVED:** Enhanced typography with larger titles and better line-height\n* **IMPROVED:** Refined card designs and shadows for modern look\n* **IMPROVED:** Better tab styling with active states\n* **IMPROVED:** Mobile-optimized modal with full-screen on small devices\n\n**Technical**\n* **NEW:** Modal open/close handlers with ESC key support\n* **NEW:** Body scroll lock when modal is open\n* **IMPROVED:** Better integration between configurator and add-to-cart flow\n\n#### 4.9.0 - Complete E-commerce Product Page Redesign\n\n**Complete Product Page Redesign**\n* **NEW:** Full product page with image gallery (featured + thumbnails with lightbox)\n* **NEW:** Product header with short description and starting price\n* **NEW:** Interactive configurator with live price updates as user selects tier and options\n* **NEW:** Product options selector (package color, cap, etc.) with price impact display\n* **NEW:** Real-time price calculator showing base price + options = total with per-unit breakdown\n* **NEW:** Integrated add-to-cart form with quantity selector\n* **NEW:** Bundle upsell popup after adding to cart\n* **NEW:** Tabbed product information sections (Description, Directions, Product Info)\n* **NEW:** Enhanced skin types display as visual pills\n* **NEW:** Benefits displayed as icon cards grid\n* **NEW:** Key ingredients with larger cards and descriptions\n* **NEW:** Full INCI ingredient list with proper formatting\n\n**Design & UX**\n* **NEW:** Modern, professional design matching e-commerce standards\n* **NEW:** Responsive layout - mobile-first with breakpoints at 768px and 1024px\n* **NEW:** Smooth interactions and transitions throughout\n* **NEW:** Professional typography hierarchy and spacing\n* **IMPROVED:** Complete CSS overhaul with consistent design system\n* **IMPROVED:** Better visual feedback for all interactions\n\n**Technical Improvements**\n* **NEW:** AJAX add-to-cart handler for seamless cart updates\n* **NEW:** Price calculation JavaScript with tier-specific option pricing\n* **NEW:** Image gallery with thumbnail navigation\n* **NEW:** Tab switching functionality\n* **IMPROVED:** Better integration with WooCommerce variation system\n* **IMPROVED:** Enhanced JavaScript for all interactive features\n\n#### 4.8.2 - Smart Modal Toggle & Complete PLS Data Preview\n\n**Modal & Toggle Improvements**\n* **NEW:** Preview button now opens edit modal directly in preview mode - no separate modal\n* **NEW:** Edit button opens modal in builder mode by default\n* **NEW:** Smart toggle system - click Builder/Preview to toggle modes independently\n* **NEW:** Split-screen when both Builder and Preview are active (50/50)\n* **NEW:** Fullscreen preview when only Preview is active\n* **NEW:** Fullscreen builder when only Builder is active\n* **IMPROVED:** Modal is always fullscreen - better workspace\n* **IMPROVED:** Preview loads immediately when preview mode is activated\n\n**Preview Fixes**\n* **FIXED:** Preview no longer gets stuck on \"Generating preview...\" - added timeout handling\n* **FIXED:** Preview now shows ALL PLS product data - configurator, description, ingredients, bundles\n* **FIXED:** Shortcode preview uses all options enabled (show_configurator, show_description, show_ingredients, show_bundles)\n* **IMPROVED:** Better error handling with timeout detection and clear error messages\n* **IMPROVED:** Preview automatically scrolls to top after loading\n* **IMPROVED:** WooCommerce variation scripts re-initialize after preview loads\n\n**User Experience**\n* **IMPROVED:** Seamless switching between edit and preview modes\n* **IMPROVED:** Visual feedback for loading states with timeout protection\n* **IMPROVED:** Better error messages when preview fails to load\n\n#### 4.8.1 - Preview UI Improvements & Product Display Fixes\n\n**Preview Improvements**\n* **FIXED:** Preview now correctly displays the selected product - fixed product ID tracking\n* **FIXED:** Preview refreshes properly when switching between products\n* **NEW:** Loading spinner with \"Generating preview...\" message for better feedback\n* **NEW:** Refresh preview button in preview header\n* **IMPROVED:** Better error messages with clear styling and actionable information\n* **IMPROVED:** Preview state management - prevents duplicate requests for same product\n* **IMPROVED:** Preview automatically refreshes when product form changes (debounced)\n* **IMPROVED:** Preview resets when opening different products\n\n**UI Enhancements**\n* **IMPROVED:** Preview header with better styling and refresh button\n* **IMPROVED:** Loading states with animated spinner\n* **IMPROVED:** Better visual feedback for unsynced products\n* **IMPROVED:** Error messages with color-coded styling (red for errors, yellow for warnings)\n* **IMPROVED:** Preview content area scrolls to top after loading\n\n#### 4.8.0 - Fullscreen Modal & Split-Screen Preview\n\n**User Experience Improvements**\n* **NEW:** Product edit modal is now fullscreen by default - better workspace for editing\n* **NEW:** Split-screen preview mode - when Preview tab is active, builder shows on left (50%), preview on right (50%)\n* **NEW:** Preview panel renders using `[pls_single_product]` shortcode with WooCommerce product ID\n* **IMPROVED:** Preview updates automatically when product is synced to WooCommerce\n* **IMPROVED:** Better visual separation between builder and preview in split-screen mode\n\n**Shortcode Enhancements**\n* **NEW:** Shortcode now accepts `wc_id` parameter for direct WooCommerce product ID specification\n* **IMPROVED:** `[pls_single_product wc_id=\"123\"]` can now be used to render any WooCommerce product by ID\n* **IMPROVED:** Shortcode works in preview mode without requiring live product page context\n* **IMPROVED:** Better error messages when product ID is not found\n\n#### 4.7.1 - Shortcode-Only Preview\n\n**Preview Improvements**\n* **FIXED:** Preview now uses shortcodes only - removed all Elementor widget rendering code\n* **FIXED:** Preview shows exactly what `[pls_single_product]` shortcode renders in Elementor templates\n* **REMOVED:** Elementor widget rendering from preview - no widgets in code, only shortcodes\n* **IMPROVED:** Preview matches actual frontend output when using shortcodes in Elementor templates\n* **IMPROVED:** Preview includes shortcode usage instructions and examples\n\n#### 4.7.0 - Preview Side Panel & Split-Screen Layout\n\n**User Experience Improvements**\n* **NEW:** Product preview now opens in side panel modal instead of new page - better workflow\n* **NEW:** Split-screen preview layout - product list on left (40%), preview content on right (60%)\n* **NEW:** Preview modal shows product info sidebar with quick actions\n* **IMPROVED:** Preview button now opens modal instead of new tab - faster and more convenient\n* **IMPROVED:** Preview content loads via AJAX for better performance\n* **IMPROVED:** Preview modal can be closed by clicking backdrop or close button\n* **NOTE:** Product page split functionality will be added in next release\n\n#### 4.6.3 - Commission Creation Fix\n\n**Critical Fixes**\n* **FIXED:** Commission creation now works - fixed wrong order status format in query ('wc-completed' → 'completed')\n* **FIXED:** Added manual commission trigger after saving completed/processing orders to ensure commissions are created even if hook doesn't fire\n* **IMPROVED:** Commissions are now properly created for all completed and processing WooCommerce orders\n\n#### 4.6.2 - Critical Order Generation Fix\n\n**Critical Fixes**\n* **CRITICAL FIX:** Fixed fatal error in order generation - `add_product()` returns item ID (int), not object. Now properly retrieves item object using `get_item()` before calling `update_meta_data()`\n* **FIXED:** Order generation now works correctly - all orders were failing with \"Call to a member function update_meta_data() on int\" error\n* **FIXED:** Added proper error handling when item object cannot be retrieved after adding product to order\n\n#### 4.6.1 - Critical Order Generation Fix\n\n**Critical Fixes**\n* **CRITICAL FIX:** Fixed fatal error in order generation - `add_product()` returns item ID (int), not object. Now properly retrieves item object using `get_item()` before calling `update_meta_data()`\n* **FIXED:** Order generation now works correctly - all 41 orders were failing with \"Call to a member function update_meta_data() on int\" error\n* **FIXED:** Added proper error handling when item object cannot be retrieved after adding product to order\n\n#### 4.6.0 - Production Ready Release\n\n**Critical Fixes**\n* **FIXED:** Order generation now shows detailed error messages in modal - all errors logged to action_log instead of just error_log()\n* **FIXED:** Test results download now works correctly - fixed JavaScript error with undefined total variable\n* **FIXED:** Frontend display test now checks actual hook registration instead of database option - correctly shows auto-injection as disabled\n* **FIXED:** Test execution now continues even if one test fails - added comprehensive error handling\n\n**Comprehensive Error Reporting**\n* **IMPROVED:** All skipped orders/items logged with specific reasons and detailed context\n* **IMPROVED:** Order generation summary shows breakdown of skip reasons (e.g., \"No matching variation found: 48 time(s)\")\n* **IMPROVED:** All test failures include detailed messages and fix suggestions\n* **IMPROVED:** No silent failures - every skip/failure is logged with actionable information\n\n**Frontend Display**\n* **IMPROVED:** Frontend display defaults updated to reflect shortcode-only approach (auto_inject_enabled = false)\n* **IMPROVED:** Test accurately reflects that auto-injection is disabled and shortcodes should be used\n\n**Production Ready**\n* **PRODUCTION READY:** Plugin is now production-ready with comprehensive error reporting and no silent failures\n* **IMPROVED:** Test results include detailed skip reason breakdown for better troubleshooting\n* **IMPROVED:** All tests run even if one fails - comprehensive error handling prevents test suite from stopping\n\n#### 4.5.3 - Removed Frontend Display Settings\n\n**Settings Cleanup**\n* **REMOVED:** Frontend Display (Auto-Injection) settings section from Settings page\n* **REMOVED:** Frontend display settings save code - no longer needed with shortcodes only\n* **IMPROVED:** Settings page simplified - only commission rates and email settings remain\n* **CONFIRMED:** `[pls_single_product]` shortcode shows full product page with all data (configurator, description, ingredients, bundles) by default\n\n#### 4.5.2 - Simplified Frontend: Shortcodes Only\n\n**Removed Features**\n* **REMOVED:** Sample data generation from Settings page - use System Test page instead\n* **REMOVED:** Frontend auto-injection - use shortcodes in Elementor templates instead\n* **REMOVED:** Elementor widgets - use shortcodes instead\n* **REMOVED:** Old shortcodes (pls_product, pls_configurator, pls_bundle, pls_product_page)\n* **KEPT:** Full-page shortcodes only: pls_single_product, pls_single_category, pls_shop_page\n* **IMPROVED:** Simplified frontend - only shortcodes render full pages, no auto-injection\n\n#### 4.5.1 - Test Results Download & Improved Order Logging\n\n**New Features**\n* **NEW:** Download test results as TXT file - click \"Download Test Results\" button after running tests\n* **IMPROVED:** Better error logging for order generation - shows why variations aren't found when orders are skipped\n* **IMPROVED:** Detailed logging includes variation IDs, units, and attributes when order creation fails\n* **FIXED:** Test results download includes all test categories, status, messages, and summary statistics\n\n#### 4.5.0 - Comprehensive Cleanup & Log Download Fixes\n\n**Critical Fixes**\n* **FIXED:** Sample data cleanup now properly deletes ALL WooCommerce products - checks both meta markers AND PLS database records\n* **FIXED:** Cleanup now also checks for products created via sample data using `_created_via` meta\n* **FIXED:** Removed auto-refresh on successful generation - users can now download log file before page refreshes\n* **IMPROVED:** Delete sample data now saves log file for troubleshooting\n* **IMPROVED:** More comprehensive cleanup - checks PLS database for WC product IDs even if meta markers are missing\n* **IMPROVED:** Better error handling and logging throughout cleanup process\n* **NOTE:** Bundles are dynamic combined SKUs - they create grouped products in WooCommerce that combine multiple base products\n\n#### 4.4.3 - Nonce & Log Download Fixes\n\n**Critical Fixes**\n* **FIXED:** Nonce mismatch in generate_orders AJAX handler - now accepts both pls_system_test_nonce and pls_admin_nonce\n* **FIXED:** Nonce mismatch in get_last_log AJAX handler - now accepts both nonces for compatibility\n* **FIXED:** Log file download now works even when generation fails - improved error handling\n* **IMPROVED:** Better error messages in modal when generation fails\n* **IMPROVED:** Log file is always saved even on fatal errors/exceptions\n* **IMPROVED:** Made save_log_file method public so it can be called from AJAX error handlers\n\n#### 4.4.2 - JavaScript Fix\n\n**Bug Fixes**\n* **FIXED:** JavaScript error - Changed const to let for button variable to allow reassignment in runAction function\n\n#### 4.4.1 - Generation Progress Feedback\n\n**User Experience Improvements**\n* **NEW:** Loading modal with real-time progress updates during data generation\n* **NEW:** Visual feedback showing exactly what step is running during generation\n* **NEW:** Progress log display in modal showing all generation steps with color-coded status\n* **IMPROVED:** Better user experience - users can see what's happening during long operations (1-3 minutes)\n* **IMPROVED:** Modal shows success/error status with color-coded messages and auto-closes on success\n\n#### 4.4.0 - Simplified Data Management & Logging\n\n**Data Generation Improvements**\n* **NEW:** Split sample data generation - \"Generate Sample Data\" and \"Generate Orders\" are now separate functions\n* **NEW:** Downloadable TXT log files for all generation operations with full details\n* **NEW:** View Last Log functionality with copy to clipboard feature\n* **REMOVED:** Data Import page (multistep wizard) - replaced with simplified two-button approach\n* **REMOVED:** Quick Actions section from System Test page (sync is automatic)\n* **FIXED:** Sampling customers now automatically created in WooCommerce when custom orders have sampling status\n* **IMPROVED:** Better error handling and logging for data generation operations\n* **IMPROVED:** Log files stored in wp-content/uploads/pls-logs/ for easy access\n* **IMPROVED:** System Test page UI simplified and streamlined\n\n#### 4.3.1 - Shop Page & Enhanced Shortcodes\n\n**Shop Page & Preview**\n* **NEW:** `[pls_shop_page]` shortcode for browsing all PLS products in Elementor templates\n* **NEW:** Shop page preview functionality for testing templates\n* **IMPROVED:** `[pls_single_product]` now uses full PLS_Frontend_Display render methods for complete data (visual tier cards, all product info)\n* **IMPROVED:** Preview functionality updated to use new simplified shortcodes\n* **IMPROVED:** Better integration with WooCommerce product loop for shop/category displays\n\n#### 4.3.0 - Elementor Shortcodes\n\n**New Elementor-Focused Shortcodes**\n* **NEW:** `[pls_single_product]` - Simplified shortcode for single product pages in Elementor templates\n* **NEW:** `[pls_single_category]` - Shortcode for category/archive pages with tier badges and pricing\n* **NEW:** Configurable sections via shortcode attributes (show_configurator, show_description, show_ingredients, show_bundles)\n* **IMPROVED:** Better Elementor Theme Builder integration - shortcodes auto-detect current product/category\n* **IMPROVED:** Section visibility control with CSS classes for flexible layouts\n\n#### 4.2.0 - Step-by-Step Import Fix\n\n**Data Import Fixes**\n* **FIXED:** Step-by-step import now ensures products are synced to WooCommerce before creating orders\n* **FIXED:** Missing WooCommerce orders in step-by-step import - Products are now automatically synced in step 7 before order creation\n* **IMPROVED:** Better error handling and logging for order creation process\n* **IMPROVED:** Clear feedback messages during import process\n\n#### 3.1.0 - Multistep Data Import Wizard\n\n**Data Import & UX Improvements**\n* **NEW:** Multistep Data Import Wizard - Guided 10-step import process with validation at each stage\n* **NEW:** Data Import page with prerequisites check, step-by-step import, and progress tracking\n* **NEW:** Step-by-step import: Categories/Ingredients, Product Options, Products, Bundles, WC Orders, Custom Orders, Commissions\n* **NEW:** Quick Import option for importing all data at once\n* **IMPROVED:** Made PLS_Sample_Data methods public for granular control\n* **IMPROVED:** Enhanced UX with comprehensive tooltips and help icons across admin screens\n* **IMPROVED:** Added admin testing guide and UX audit documentation\n* **FIXED:** WooCommerce orders now properly created during sample data generation with better validation\n\n#### 3.0.4 - Orders Page Fix\n\n**Orders Page Improvements**\n* **FIXED:** Orders page now shows ALL WooCommerce orders (not just PLS-filtered ones)\n* **FIXED:** Commission calculation logic - Fixed variation ID handling for proper commission tracking\n* **IMPROVED:** Better error handling for deleted products - Shows \"Product #X (deleted)\" instead of breaking\n* **IMPROVED:** Increased order limit from 50 to 100 orders\n* **IMPROVED:** Added all order statuses (pending, cancelled, refunded, failed) for complete order visibility\n* **IMPROVED:** Updated page title and description for clarity\n\n#### 3.0.3 - Maintenance Release\n\n**Maintenance & Cleanup**\n* **FIXED:** Version consistency - All version numbers now match across plugin file, UUPD, and readme\n* **FIXED:** UUPD download URL now correctly points to v3.0.3 release\n* **CLEANUP:** Removed outdated release notes and temporary documentation files\n* **CLEANUP:** Removed temporary test scripts and verification tools\n* **IMPROVED:** Codebase cleanup - Removed 12 unneeded documentation and script files\n\n#### 3.0.2 - Product Page UX Improvements\n\n**UX Improvements**\n* **NEW:** Interactive tier cards - Click to select pack tier variations\n* **NEW:** Auto-hide default WooCommerce variation selector when tier cards are present\n* **IMPROVED:** Visual feedback - Cards highlight when selected\n* **IMPROVED:** Better integration with WooCommerce variation system\n* **IMPROVED:** Smooth scroll to add-to-cart after selection\n\n#### 3.0.1 - Bug Fix\n\n**Bug Fixes**\n* **FIXED:** Sample data generation - Added missing `get()` method to PLS_Repo_Product_Profile for compatibility\n* **NEW:** Delete Sample Data button on System Test page with status display\n\n#### 3.0.0 - Fully Working WooCommerce Shop\n\n**Frontend Auto-Injection (Zero-Setup Product Pages)**\n* **NEW:** Auto-inject PLS content on WooCommerce product pages without Elementor or shortcodes\n* **NEW:** Pack Tier Configurator with visual cards showing units, prices, and price-per-unit\n* **NEW:** Tier badges on shop/category pages (\"From X units\" and \"As low as $X/unit\")\n* **NEW:** Settings to enable/disable auto-injection and choose position (after summary, after cart, before tabs, as tab)\n* **NEW:** Configurable content sections (configurator, description, ingredients, bundles)\n* **NEW:** Full CSS with accessibility support (focus states, reduced motion, high contrast)\n\n**System Tests & Diagnostics**\n* **NEW:** Enhanced System Test - Server config (PHP, memory, extensions), WC settings (currency, gateways, shipping), user roles & capabilities verification\n* **NEW:** Version display with UUPD match check\n* **NEW:** Frontend Display tests - CSS/JS file checks, settings validation, test product display\n\n**Custom Orders**\n* **NEW:** Convert Custom Order to WooCommerce Order with button and status selection (Pending, On Hold, Draft)\n* **NEW:** Sampling Tracking - Status workflow (Not Sent → Sent → Received → Approved/Rejected), cost, dates, tracking, feedback fields\n* **NEW:** Bidirectional linking between custom orders and WC orders\n\n**SEO & Plugin Integration**\n* **NEW:** Yoast SEO - Auto meta generation, sitemap inclusion, schema markup, breadcrumbs, custom variables (%%pls_product_tier%%, %%pls_product_ingredients%%)\n* **NEW:** LiteSpeed Cache - Purge on product sync, ESI compatibility\n* **NEW:** Brevo - Email notifications for custom order creation\n\n**Admin & Preview**\n* **NEW:** Live Preview - Split-screen/fullscreen modal for products and categories using actual WooCommerce pages\n* **NEW:** Domain-based user role assignment (@bodoci.com)\n* **NEW:** Category preview button\n\n**Database**\n* Migration v3.0.0 adds 7 new columns to pls_custom_order table (wc_order_id, sample_status, sample_cost, sample_sent_date, sample_tracking, sample_feedback, converted_at)\n\n**Development**\n* Updated development workflow with MCP browser testing instructions\n\n#### 2.9.0\n\n* **CRITICAL FIX:** Pack Tier WooCommerce term linking - Fixed circular dependency that prevented variations from being created\n* **CRITICAL FIX:** Sample data now creates WooCommerce orders successfully (was skipping 43 orders due to missing variations)\n* **NEW:** Custom Orders - Full edit functionality for all order fields\n* **NEW:** Custom Orders - Quick stage navigation buttons\n* **NEW:** Custom Orders - Drag-and-drop stage changes\n* **IMPROVED:** Tier badges now show consistently on all tier-restricted options in Product Options tabs\n* **IMPROVED:** Sample data sets default_min_tier properly for Fragrances (T3+), Custom Bottles (T4+), External Box (T4+)\n* **IMPROVED:** Key Ingredients UX - Clear explanation that these become selectable active ingredients for Tier 3+ customers\n* **IMPROVED:** Ingredients panel labels now specify 'INCI base' for clarity\n* **IMPROVED:** WC Sync uses fallback tier-level-to-units mapping when term_id is not yet set\n\n#### 2.8.0\n\n* **NEW:** Database migration v2.8.0 - Added default_min_tier to attributes table\n* **NEW:** Package Type WooCommerce attribute auto-created for frontend selection\n* **NEW:** Tier inheritance system - Values inherit tier from option default, can override per-value\n* **NEW:** Default tier requirement field in Product Options editor\n* **NEW:** Apple-style CSS components - Toggle switches, option cards, tier badges\n* **IMPROVED:** Variation matching in sample data - More robust fallback logic\n* **IMPROVED:** Label Application filtered from Additional Options dropdown (has dedicated section)\n* **IMPROVED:** Product Options page shows tier badges for options requiring higher tiers\n* **IMPROVED:** Attribute update AJAX handler - Full edit support for options\n* **FIXED:** Commission repository all() method now exists\n* **FIXED:** get_values_for_tier() now respects option-level default_min_tier inheritance\n\n#### 2.7.2\n\n* **CRITICAL FIX:** Sample data generation fixed - Changed pls_category to product_cat taxonomy\n* **CRITICAL FIX:** Added WP_Error checks before count() calls on get_terms results\n* **NEW:** Categories - Added Edit and Delete functionality\n* **NEW:** Ingredients - Added Delete button and Is Active flag (Active vs Base/INCI)\n* **NEW:** Custom Orders - Added Create Custom Order form in admin\n* **IMPROVED:** Preview page - Better error handling for Elementor not active\n* **IMPROVED:** Header CSS - Fixed overflow issues with navigation\n* **CLEANUP:** Products page - Removed redundant Product Options button"
  },
  "last_updated": "2026-02-03 14:00:00",
  "download_url": "https://github.com/centrino97/pls-private-label-store/releases/download/v5.6.2/pls-private-label-store.zip",
  "banners": {},
  "icons": {}
}
