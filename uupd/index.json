{
  "slug": "pls-private-label-store",
  "name": "PLS – Private Label Store Manager (Woo + Elementor)",
  "version": "4.6.2",
  "author": "Z2HB team",
  "author_homepage": "https://zerotoherobusiness.com",
  "requires_php": "7.4",
  "requires": "6.5",
  "tested": "6.7.0",
  "sections": {
    "description": "Private label store manager for WooCommerce + Elementor.",
    "installation": "Upload the plugin ZIP via Plugins > Add New and activate.",
    "changelog": "#### 4.6.2 - Critical Order Generation Fix\n\n**Critical Fixes**\n* **CRITICAL FIX:** Fixed fatal error in order generation - `add_product()` returns item ID (int), not object. Now properly retrieves item object using `get_item()` before calling `update_meta_data()`\n* **FIXED:** Order generation now works correctly - all orders were failing with \"Call to a member function update_meta_data() on int\" error\n* **FIXED:** Added proper error handling when item object cannot be retrieved after adding product to order\n\n#### 4.6.1 - Critical Order Generation Fix\n\n**Critical Fixes**\n* **CRITICAL FIX:** Fixed fatal error in order generation - `add_product()` returns item ID (int), not object. Now properly retrieves item object using `get_item()` before calling `update_meta_data()`\n* **FIXED:** Order generation now works correctly - all 41 orders were failing with \"Call to a member function update_meta_data() on int\" error\n* **FIXED:** Added proper error handling when item object cannot be retrieved after adding product to order\n\n#### 4.6.0 - Production Ready Release\n\n**Critical Fixes**\n* **FIXED:** Order generation now shows detailed error messages in modal - all errors logged to action_log instead of just error_log()\n* **FIXED:** Test results download now works correctly - fixed JavaScript error with undefined total variable\n* **FIXED:** Frontend display test now checks actual hook registration instead of database option - correctly shows auto-injection as disabled\n* **FIXED:** Test execution now continues even if one test fails - added comprehensive error handling\n\n**Comprehensive Error Reporting**\n* **IMPROVED:** All skipped orders/items logged with specific reasons and detailed context\n* **IMPROVED:** Order generation summary shows breakdown of skip reasons (e.g., \"No matching variation found: 48 time(s)\")\n* **IMPROVED:** All test failures include detailed messages and fix suggestions\n* **IMPROVED:** No silent failures - every skip/failure is logged with actionable information\n\n**Frontend Display**\n* **IMPROVED:** Frontend display defaults updated to reflect shortcode-only approach (auto_inject_enabled = false)\n* **IMPROVED:** Test accurately reflects that auto-injection is disabled and shortcodes should be used\n\n**Production Ready**\n* **PRODUCTION READY:** Plugin is now production-ready with comprehensive error reporting and no silent failures\n* **IMPROVED:** Test results include detailed skip reason breakdown for better troubleshooting\n* **IMPROVED:** All tests run even if one fails - comprehensive error handling prevents test suite from stopping\n\n#### 4.5.3 - Removed Frontend Display Settings\n\n**Settings Cleanup**\n* **REMOVED:** Frontend Display (Auto-Injection) settings section from Settings page\n* **REMOVED:** Frontend display settings save code - no longer needed with shortcodes only\n* **IMPROVED:** Settings page simplified - only commission rates and email settings remain\n* **CONFIRMED:** `[pls_single_product]` shortcode shows full product page with all data (configurator, description, ingredients, bundles) by default\n\n#### 4.5.2 - Simplified Frontend: Shortcodes Only\n\n**Removed Features**\n* **REMOVED:** Sample data generation from Settings page - use System Test page instead\n* **REMOVED:** Frontend auto-injection - use shortcodes in Elementor templates instead\n* **REMOVED:** Elementor widgets - use shortcodes instead\n* **REMOVED:** Old shortcodes (pls_product, pls_configurator, pls_bundle, pls_product_page)\n* **KEPT:** Full-page shortcodes only: pls_single_product, pls_single_category, pls_shop_page\n* **IMPROVED:** Simplified frontend - only shortcodes render full pages, no auto-injection\n\n#### 4.5.1 - Test Results Download & Improved Order Logging\n\n**New Features**\n* **NEW:** Download test results as TXT file - click \"Download Test Results\" button after running tests\n* **IMPROVED:** Better error logging for order generation - shows why variations aren't found when orders are skipped\n* **IMPROVED:** Detailed logging includes variation IDs, units, and attributes when order creation fails\n* **FIXED:** Test results download includes all test categories, status, messages, and summary statistics\n\n#### 4.5.0 - Comprehensive Cleanup & Log Download Fixes\n\n**Critical Fixes**\n* **FIXED:** Sample data cleanup now properly deletes ALL WooCommerce products - checks both meta markers AND PLS database records\n* **FIXED:** Cleanup now also checks for products created via sample data using `_created_via` meta\n* **FIXED:** Removed auto-refresh on successful generation - users can now download log file before page refreshes\n* **IMPROVED:** Delete sample data now saves log file for troubleshooting\n* **IMPROVED:** More comprehensive cleanup - checks PLS database for WC product IDs even if meta markers are missing\n* **IMPROVED:** Better error handling and logging throughout cleanup process\n* **NOTE:** Bundles are dynamic combined SKUs - they create grouped products in WooCommerce that combine multiple base products\n\n#### 4.4.3 - Nonce & Log Download Fixes\n\n**Critical Fixes**\n* **FIXED:** Nonce mismatch in generate_orders AJAX handler - now accepts both pls_system_test_nonce and pls_admin_nonce\n* **FIXED:** Nonce mismatch in get_last_log AJAX handler - now accepts both nonces for compatibility\n* **FIXED:** Log file download now works even when generation fails - improved error handling\n* **IMPROVED:** Better error messages in modal when generation fails\n* **IMPROVED:** Log file is always saved even on fatal errors/exceptions\n* **IMPROVED:** Made save_log_file method public so it can be called from AJAX error handlers\n\n#### 4.4.2 - JavaScript Fix\n\n**Bug Fixes**\n* **FIXED:** JavaScript error - Changed const to let for button variable to allow reassignment in runAction function\n\n#### 4.4.1 - Generation Progress Feedback\n\n**User Experience Improvements**\n* **NEW:** Loading modal with real-time progress updates during data generation\n* **NEW:** Visual feedback showing exactly what step is running during generation\n* **NEW:** Progress log display in modal showing all generation steps with color-coded status\n* **IMPROVED:** Better user experience - users can see what's happening during long operations (1-3 minutes)\n* **IMPROVED:** Modal shows success/error status with color-coded messages and auto-closes on success\n\n#### 4.4.0 - Simplified Data Management & Logging\n\n**Data Generation Improvements**\n* **NEW:** Split sample data generation - \"Generate Sample Data\" and \"Generate Orders\" are now separate functions\n* **NEW:** Downloadable TXT log files for all generation operations with full details\n* **NEW:** View Last Log functionality with copy to clipboard feature\n* **REMOVED:** Data Import page (multistep wizard) - replaced with simplified two-button approach\n* **REMOVED:** Quick Actions section from System Test page (sync is automatic)\n* **FIXED:** Sampling customers now automatically created in WooCommerce when custom orders have sampling status\n* **IMPROVED:** Better error handling and logging for data generation operations\n* **IMPROVED:** Log files stored in wp-content/uploads/pls-logs/ for easy access\n* **IMPROVED:** System Test page UI simplified and streamlined\n\n#### 4.3.1 - Shop Page & Enhanced Shortcodes\n\n**Shop Page & Preview**\n* **NEW:** `[pls_shop_page]` shortcode for browsing all PLS products in Elementor templates\n* **NEW:** Shop page preview functionality for testing templates\n* **IMPROVED:** `[pls_single_product]` now uses full PLS_Frontend_Display render methods for complete data (visual tier cards, all product info)\n* **IMPROVED:** Preview functionality updated to use new simplified shortcodes\n* **IMPROVED:** Better integration with WooCommerce product loop for shop/category displays\n\n#### 4.3.0 - Elementor Shortcodes\n\n**New Elementor-Focused Shortcodes**\n* **NEW:** `[pls_single_product]` - Simplified shortcode for single product pages in Elementor templates\n* **NEW:** `[pls_single_category]` - Shortcode for category/archive pages with tier badges and pricing\n* **NEW:** Configurable sections via shortcode attributes (show_configurator, show_description, show_ingredients, show_bundles)\n* **IMPROVED:** Better Elementor Theme Builder integration - shortcodes auto-detect current product/category\n* **IMPROVED:** Section visibility control with CSS classes for flexible layouts\n\n#### 4.2.0 - Step-by-Step Import Fix\n\n**Data Import Fixes**\n* **FIXED:** Step-by-step import now ensures products are synced to WooCommerce before creating orders\n* **FIXED:** Missing WooCommerce orders in step-by-step import - Products are now automatically synced in step 7 before order creation\n* **IMPROVED:** Better error handling and logging for order creation process\n* **IMPROVED:** Clear feedback messages during import process\n\n#### 3.1.0 - Multistep Data Import Wizard\n\n**Data Import & UX Improvements**\n* **NEW:** Multistep Data Import Wizard - Guided 10-step import process with validation at each stage\n* **NEW:** Data Import page with prerequisites check, step-by-step import, and progress tracking\n* **NEW:** Step-by-step import: Categories/Ingredients, Product Options, Products, Bundles, WC Orders, Custom Orders, Commissions\n* **NEW:** Quick Import option for importing all data at once\n* **IMPROVED:** Made PLS_Sample_Data methods public for granular control\n* **IMPROVED:** Enhanced UX with comprehensive tooltips and help icons across admin screens\n* **IMPROVED:** Added admin testing guide and UX audit documentation\n* **FIXED:** WooCommerce orders now properly created during sample data generation with better validation\n\n#### 3.0.4 - Orders Page Fix\n\n**Orders Page Improvements**\n* **FIXED:** Orders page now shows ALL WooCommerce orders (not just PLS-filtered ones)\n* **FIXED:** Commission calculation logic - Fixed variation ID handling for proper commission tracking\n* **IMPROVED:** Better error handling for deleted products - Shows \"Product #X (deleted)\" instead of breaking\n* **IMPROVED:** Increased order limit from 50 to 100 orders\n* **IMPROVED:** Added all order statuses (pending, cancelled, refunded, failed) for complete order visibility\n* **IMPROVED:** Updated page title and description for clarity\n\n#### 3.0.3 - Maintenance Release\n\n**Maintenance & Cleanup**\n* **FIXED:** Version consistency - All version numbers now match across plugin file, UUPD, and readme\n* **FIXED:** UUPD download URL now correctly points to v3.0.3 release\n* **CLEANUP:** Removed outdated release notes and temporary documentation files\n* **CLEANUP:** Removed temporary test scripts and verification tools\n* **IMPROVED:** Codebase cleanup - Removed 12 unneeded documentation and script files\n\n#### 3.0.2 - Product Page UX Improvements\n\n**UX Improvements**\n* **NEW:** Interactive tier cards - Click to select pack tier variations\n* **NEW:** Auto-hide default WooCommerce variation selector when tier cards are present\n* **IMPROVED:** Visual feedback - Cards highlight when selected\n* **IMPROVED:** Better integration with WooCommerce variation system\n* **IMPROVED:** Smooth scroll to add-to-cart after selection\n\n#### 3.0.1 - Bug Fix\n\n**Bug Fixes**\n* **FIXED:** Sample data generation - Added missing `get()` method to PLS_Repo_Product_Profile for compatibility\n* **NEW:** Delete Sample Data button on System Test page with status display\n\n#### 3.0.0 - Fully Working WooCommerce Shop\n\n**Frontend Auto-Injection (Zero-Setup Product Pages)**\n* **NEW:** Auto-inject PLS content on WooCommerce product pages without Elementor or shortcodes\n* **NEW:** Pack Tier Configurator with visual cards showing units, prices, and price-per-unit\n* **NEW:** Tier badges on shop/category pages (\"From X units\" and \"As low as $X/unit\")\n* **NEW:** Settings to enable/disable auto-injection and choose position (after summary, after cart, before tabs, as tab)\n* **NEW:** Configurable content sections (configurator, description, ingredients, bundles)\n* **NEW:** Full CSS with accessibility support (focus states, reduced motion, high contrast)\n\n**System Tests & Diagnostics**\n* **NEW:** Enhanced System Test - Server config (PHP, memory, extensions), WC settings (currency, gateways, shipping), user roles & capabilities verification\n* **NEW:** Version display with UUPD match check\n* **NEW:** Frontend Display tests - CSS/JS file checks, settings validation, test product display\n\n**Custom Orders**\n* **NEW:** Convert Custom Order to WooCommerce Order with button and status selection (Pending, On Hold, Draft)\n* **NEW:** Sampling Tracking - Status workflow (Not Sent → Sent → Received → Approved/Rejected), cost, dates, tracking, feedback fields\n* **NEW:** Bidirectional linking between custom orders and WC orders\n\n**SEO & Plugin Integration**\n* **NEW:** Yoast SEO - Auto meta generation, sitemap inclusion, schema markup, breadcrumbs, custom variables (%%pls_product_tier%%, %%pls_product_ingredients%%)\n* **NEW:** LiteSpeed Cache - Purge on product sync, ESI compatibility\n* **NEW:** Brevo - Email notifications for custom order creation\n\n**Admin & Preview**\n* **NEW:** Live Preview - Split-screen/fullscreen modal for products and categories using actual WooCommerce pages\n* **NEW:** Domain-based user role assignment (@bodoci.com)\n* **NEW:** Category preview button\n\n**Database**\n* Migration v3.0.0 adds 7 new columns to pls_custom_order table (wc_order_id, sample_status, sample_cost, sample_sent_date, sample_tracking, sample_feedback, converted_at)\n\n**Development**\n* Updated development workflow with MCP browser testing instructions\n\n#### 2.9.0\n\n* **CRITICAL FIX:** Pack Tier WooCommerce term linking - Fixed circular dependency that prevented variations from being created\n* **CRITICAL FIX:** Sample data now creates WooCommerce orders successfully (was skipping 43 orders due to missing variations)\n* **NEW:** Custom Orders - Full edit functionality for all order fields\n* **NEW:** Custom Orders - Quick stage navigation buttons\n* **NEW:** Custom Orders - Drag-and-drop stage changes\n* **IMPROVED:** Tier badges now show consistently on all tier-restricted options in Product Options tabs\n* **IMPROVED:** Sample data sets default_min_tier properly for Fragrances (T3+), Custom Bottles (T4+), External Box (T4+)\n* **IMPROVED:** Key Ingredients UX - Clear explanation that these become selectable active ingredients for Tier 3+ customers\n* **IMPROVED:** Ingredients panel labels now specify 'INCI base' for clarity\n* **IMPROVED:** WC Sync uses fallback tier-level-to-units mapping when term_id is not yet set\n\n#### 2.8.0\n\n* **NEW:** Database migration v2.8.0 - Added default_min_tier to attributes table\n* **NEW:** Package Type WooCommerce attribute auto-created for frontend selection\n* **NEW:** Tier inheritance system - Values inherit tier from option default, can override per-value\n* **NEW:** Default tier requirement field in Product Options editor\n* **NEW:** Apple-style CSS components - Toggle switches, option cards, tier badges\n* **IMPROVED:** Variation matching in sample data - More robust fallback logic\n* **IMPROVED:** Label Application filtered from Additional Options dropdown (has dedicated section)\n* **IMPROVED:** Product Options page shows tier badges for options requiring higher tiers\n* **IMPROVED:** Attribute update AJAX handler - Full edit support for options\n* **FIXED:** Commission repository all() method now exists\n* **FIXED:** get_values_for_tier() now respects option-level default_min_tier inheritance\n\n#### 2.7.2\n\n* **CRITICAL FIX:** Sample data generation fixed - Changed pls_category to product_cat taxonomy\n* **CRITICAL FIX:** Added WP_Error checks before count() calls on get_terms results\n* **NEW:** Categories - Added Edit and Delete functionality\n* **NEW:** Ingredients - Added Delete button and Is Active flag (Active vs Base/INCI)\n* **NEW:** Custom Orders - Added Create Custom Order form in admin\n* **IMPROVED:** Preview page - Better error handling for Elementor not active\n* **IMPROVED:** Header CSS - Fixed overflow issues with navigation\n* **CLEANUP:** Products page - Removed redundant Product Options button"
  },
  "last_updated": "2026-01-26 01:00:00",
  "download_url": "https://github.com/centrino97/pls-private-label-store/releases/download/v4.6.2/pls-private-label-store.zip",
  "banners": {},
  "icons": {}
}
